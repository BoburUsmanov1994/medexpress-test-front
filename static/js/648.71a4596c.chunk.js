"use strict";(self.webpackChunkmedexpress=self.webpackChunkmedexpress||[]).push([[648],{63393:function(e,s,a){a.r(s),a.d(s,{default:function(){return R}});var t=a(72791),n=a(57689),r=a(1413),l=a(44925),i=a(29439),c=a(72509),o=a(39230),d=a(11087),m=a(52007),p=a.n(m);function x(){return x=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},x.apply(this,arguments)}function g(e,s){if(null==e)return{};var a,t,n=function(e,s){if(null==e)return{};var a,t,n={},r=Object.keys(e);for(t=0;t<r.length;t++)a=r[t],s.indexOf(a)>=0||(n[a]=e[a]);return n}(e,s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)a=r[t],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var u=(0,t.forwardRef)((function(e,s){var a=e.color,n=void 0===a?"currentColor":a,r=e.size,l=void 0===r?24:r,i=g(e,["color","size"]);return t.createElement("svg",x({ref:s,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),t.createElement("polyline",{points:"15 18 9 12 15 6"}))}));u.propTypes={color:p().string,size:p().oneOfType([p().string,p().number])},u.displayName="ChevronLeft";var j=u,h=a(59828),b=a(11469),y=a(94502),f=a(48665),N=a(18720),v=a(63917),w=a(763),Z=a(92013),z=a(38954),k=a.p+"static/media/photo.fec5fb0520691887ed9c.png",L=a.p+"static/media/map.f57fac0e131ae1b14e89.png",O=a(30948),q=a(54179),S=a(13759),A=a(9443),C=a(88430),T=a(6921),E=a(58746),D=a(58309),_=a(80184),F=["parent","names","service_types","contacts","level","locations"],I=["rate"],P=function(e){var s=e.id,a=void 0===s?null:s,n=(0,t.useState)(!1),m=(0,i.Z)(n,2),p=m[0],x=m[1],g=(0,t.useState)(!1),u=(0,i.Z)(g,2),P=u[0],R=u[1],M=(0,o.$G)().t,H=(0,t.useState)("dept"),K=(0,i.Z)(H,2),U=K[0],V=K[1],W=(0,y.xq)({id:a,url:f.n.organizations}),B=W.data,G=W.isLoading,$=(0,y.i7)({key:N.t.organizationDepartments,url:"".concat(f.n.organizations,"/").concat(a).concat(f.n.organizationDepartments)}),J=$.data,Q=($.isLoading,(0,y.i7)({key:N.t.organizationTypeMedical,url:f.n.organizationTypeMedical,params:{params:{limit:100}},enabled:p})),X=Q.data,Y=Q.isLoading,ee=(0,y.i7)({key:N.t.organizationType,url:f.n.organizationType,params:{params:{limit:100}},enabled:p}).data,se=(0,y.i7)({key:N.t.organizationTypeLevel,url:f.n.organizationTypeLevel,params:{params:{limit:100}},enabled:p}),ae=se.data,te=se.isLoading,ne=(0,y.i7)({key:N.t.organizationTypeService,url:f.n.organizationTypeService,params:{params:{limit:100}},enabled:p}),re=ne.data,le=ne.isLoading,ie=(0,y.n7)({listKeyId:N.t.organizationDepartments}),ce=ie.mutate,oe=ie.isLoading,de=(0,y.n7)({listKeyId:N.t.organizationPositions}),me=de.mutate,pe=de.isLoading;return G?(0,_.jsx)(v.E,{}):(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{className:"grid grid-cols-12",children:[(0,_.jsx)("div",{className:"col-span-12 mb-5",children:(0,_.jsxs)(d.rU,{className:"text-primary  font-bold inline-flex items-center",to:"/hrm/organizations",children:[(0,_.jsx)(j,{className:"mr-1"}),M("\u041d\u0430\u0437\u0430\u0434 \u043a \u0441\u043f\u0438\u0441\u043a\u0443")]})}),(0,_.jsx)("div",{className:"col-span-12 mb-4",children:(0,_.jsx)(c.Z,{children:(0,w.get)(B,"data.display")})}),(0,_.jsx)("div",{className:"col-span-12",children:(0,_.jsxs)(Z.m,{children:[(0,_.jsx)(Z.O,{tab:"info",label:M("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),children:(0,_.jsxs)(z.Z,{sm:!0,children:[(0,_.jsxs)("div",{className:"grid grid-cols-12 mb-6",children:[(0,_.jsx)("div",{className:"col-span-8",children:(0,_.jsx)(c.Z,{sm:!0,children:M("\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438")})}),(0,_.jsx)("div",{className:"col-span-4 text-right",children:(0,_.jsxs)("button",{className:"inline-flex items-center py-2 px-4 text-sm font-bold text-primary border border-primary rounded-lg",children:[(0,_.jsx)(h.Z,{size:18,className:"mr-3"}),M("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")]})})]}),(0,_.jsxs)("div",{className:"grid grid-cols-12 gap-x-16",children:[(0,_.jsxs)("div",{className:"col-span-9",children:[(0,_.jsxs)("div",{className:"flex py-5 border-b items-center",children:[(0,_.jsx)("span",{className:"w-1/3",children:"\u0418\u041d\u041d:"}),(0,_.jsx)("strong",{className:"w-2/3",children:(0,w.get)(B,"data.tin")})]}),(0,_.jsxs)("div",{className:"flex py-5 border-b items-center",children:[(0,_.jsx)("span",{className:"w-1/3",children:"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f:"}),(0,_.jsx)("strong",{className:"w-2/3",children:(0,w.get)(B,"data.parent.display")})]}),(0,_.jsxs)("div",{className:"flex py-5 border-b items-center",children:[(0,_.jsx)("span",{className:"w-1/3",children:"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438:"}),(0,_.jsx)("strong",{className:"w-2/3",children:(0,w.get)(B,"data.medical_type.display")})]}),(0,_.jsxs)("div",{className:"flex py-5 border-b items-center",children:[(0,_.jsx)("span",{className:"w-1/3",children:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433:"}),(0,_.jsx)("strong",{className:"w-2/3",children:(0,w.get)(B,"data.level.display")})]}),(0,_.jsxs)("div",{className:"flex py-5 border-b items-center",children:[(0,_.jsx)("span",{className:"w-1/3",children:"\u0424\u043e\u0440\u043c\u0430 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438:"}),(0,_.jsx)("strong",{className:"w-2/3",children:(0,w.get)(B,"data.legal_form.display")})]}),(0,_.jsxs)("div",{className:"flex py-5 border-b items-center",children:[(0,_.jsx)("span",{className:"w-1/3",children:"\u0412\u0438\u0434\u044b \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433:"}),(0,_.jsx)("strong",{className:"w-2/3",children:(0,w.get)(B,"data.service_types",[]).map((function(e){var s=e.display;return"".concat(void 0===s?null:s,", ")}))})]}),(0,_.jsxs)("div",{className:"flex py-5 border-b items-center",children:[(0,_.jsx)("span",{className:"w-1/3",children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435:"}),(0,_.jsx)("strong",{className:"w-2/3",children:(0,w.get)(B,"data.display")})]}),(0,_.jsxs)("div",{className:"flex py-5 border-b items-center",children:[(0,_.jsx)("span",{className:"w-1/3",children:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435:"}),(0,_.jsx)("strong",{className:"w-2/3",children:(0,w.get)(B,"data.display")})]}),(0,_.jsxs)("div",{className:"flex py-5 border-b items-center",children:[(0,_.jsx)("span",{className:"w-1/3",children:"\u0410\u0434\u0440\u0435\u0441:"}),(0,_.jsx)("strong",{className:"w-2/3",children:"".concat((0,w.get)((0,w.head)((0,w.get)(B,"data.locations",[])),"address.state.display"),", ").concat((0,w.get)((0,w.head)((0,w.get)(B,"data.locations",[])),"address.city.display"))})]}),(0,_.jsxs)("div",{className:"flex py-5 border-b items-center",children:[(0,_.jsx)("span",{className:"w-1/3",children:"\u0420\u0435\u0433\u0438\u043e\u043d \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f:"}),(0,_.jsx)("strong",{className:"w-2/3",children:"\u0421\u044b\u0440\u0434\u0430\u0440\u044c\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"})]}),(0,_.jsxs)("div",{className:"flex py-5 border-b items-center",children:[(0,_.jsx)("span",{className:"w-1/3",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:"}),(0,_.jsx)("strong",{className:"w-2/3",children:(0,_.jsx)(O.HH,{displayType:"text",format:"+998 ## ### ## ##",value:(0,w.get)((0,w.find)((0,w.get)((0,w.head)((0,w.get)(B,"data.contacts",[])),"telecoms",[]),(function(e){return 1==(0,w.get)(e,"system.id")})),"value")})})]}),(0,_.jsxs)("div",{className:"flex py-5 border-b items-center",children:[(0,_.jsx)("span",{className:"w-1/3",children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430:"}),(0,_.jsx)("strong",{className:"text-primary w-2/3",children:(0,w.get)((0,w.find)((0,w.get)((0,w.head)((0,w.get)(B,"data.contacts",[])),"telecoms",[]),(function(e){return 2==(0,w.get)(e,"system.id")})),"value")})]})]}),(0,_.jsxs)("div",{className:"col-span-3",children:[(0,_.jsx)("img",{className:"mb-6 object-cover",src:k,alt:""}),(0,_.jsx)("img",{className:"object-cover",src:L,alt:""})]})]})]})}),(0,_.jsx)(Z.O,{tab:"employees",label:M("\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"),children:(0,_.jsx)(z.Z,{sm:!0})}),(0,_.jsx)(Z.O,{tab:"departments",label:M("\u041e\u0440\u0433. \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430"),children:(0,_.jsxs)("div",{className:"grid grid-cols-12 gap-x-6",children:[(0,_.jsx)("div",{className:"col-span-3",children:(0,_.jsxs)(z.Z,{sm:!0,classNames:"!p-4",children:[(0,_.jsx)("ul",{className:"mb-6",children:(0,w.get)(J,"data.data",[]).map((function(e){return(0,_.jsx)("li",{className:"cursor-pointer text-[#222222] font-bold py-1.5 mb-2",children:(0,w.get)(e,"display")},(0,w.get)(e,"id"))}))}),(0,_.jsxs)("button",{onClick:function(){return x(!0)},className:"text-primary font-bold flex items-center justify-center w-full text-center p-4 border-t border-1 border-t-[rgba(0,0,0,0.1)]",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u0438\u0435 ",(0,_.jsx)(b.Z,{className:"ml-2",size:24})]})]})}),(0,_.jsx)("div",{className:"col-span-9",children:(0,_.jsx)(z.Z,{sm:!0,children:(0,_.jsxs)("div",{className:"grid grid-cols-12",children:[(0,_.jsx)("div",{className:"col-span-6",children:(0,_.jsx)(c.Z,{sm:!0,children:"\u0428\u0442\u0430\u0442\u043d\u044b\u0435 \u0435\u0434\u0438\u043d\u0438\u0446\u044b"})}),(0,_.jsx)("div",{className:"col-span-6 text-right",children:(0,_.jsxs)("button",{onClick:function(){return R(!0)},className:"inline-flex py-2.5 pl-2.5 pr-5 rounded-lg text-primary items-center font-bold border-2 border-primary text-center ",children:[(0,_.jsx)(b.Z,{className:"mr-1.5"}),M("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c")]})})]})})})]})})]})})]}),(0,_.jsxs)(q.Z,{open:p,onClose:function(){return x(!1)},classNames:"!w-[1000px]",title:M("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u0438\u0435"),children:[oe&&(0,_.jsx)(v.p,{}),Y?(0,_.jsx)(v.p,{}):(0,_.jsxs)(S.Z,{classNames:"grid grid-cols-12 gap-x-6",formRequest:function(e){return function(e){var s=e.data,t=s.parent,n=s.names,i=s.service_types,c=s.contacts,o=s.level,d=s.locations,m=(0,l.Z)(s,F);ce({url:"".concat(f.n.organizations,"/").concat(a).concat(f.n.organizationDepartments),attributes:(0,w.isEqual)(U,"dept")?(0,r.Z)((0,r.Z)({},m),{},{names:n,parent:null!==t&&void 0!==t?t:void 0,display:(0,w.get)(n,"[0].value"),type:(0,w.find)((0,w.get)(ee,"data",[]),(function(e){return(0,w.isEqual)((0,w.get)(e,"code"),"dept")}))}):(0,r.Z)((0,r.Z)({},m),{},{locations:d,service_types:i,contacts:c,level:o,display:(0,w.get)(n,"[0].value"),names:n,type:(0,w.find)((0,w.get)(ee,"data",[]),(function(e){return(0,w.isEqual)((0,w.get)(e,"code"),"prov")}))})},{onSuccess:function(){x(!1)}})}(e)},footer:(0,_.jsx)("div",{className:"col-span-12 ",children:(0,_.jsxs)("div",{className:"flex justify-end",children:[(0,_.jsx)("button",{onClick:function(){return x(!1)},type:"button",className:"text-[#7A7A7A] border-2 border-[#7A7A7A] py-3 px-6 rounded-lg mr-4 inline-block   font-bold text-center  mt-6",children:M("\u041e\u0442\u043c\u0435\u043d\u0430")}),(0,_.jsx)("button",{type:"submit",className:" py-3 px-6 rounded-lg bg-primary inline-block  text-white font-bold text-center  mt-6",children:M("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")})]})}),children:[(0,_.jsx)(A.Z,{type:"select",isLoading:Y,defaultValue:(0,w.find)((0,w.get)(X,"data",[]),(function(e){return(0,w.isEqual)((0,w.get)(e,"code"),U)})),property:{onChange:function(e){return V((0,w.get)(e,"code"))}},classNames:"col-span-12",name:"medical_type",label:(0,_.jsxs)("div",{className:"flex",children:[(0,_.jsx)("span",{children:M("\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438")}),(0,_.jsx)("img",{className:"ml-1",src:C.Z,alt:"org"})]}),params:{required:!0},options:(0,w.get)(X,"data",[])}),(0,w.isEqual)(U,"dept")&&(0,_.jsxs)(_.Fragment,{children:[" ",(0,_.jsx)(A.Z,{type:"async-select",isDisabledSearch:!0,url:"".concat(f.n.organizations,"/").concat(a).concat(f.n.organizationDepartments),keyId:N.t.organizationsListForSelect,classNames:"col-span-12",name:"parent",label:M("\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f")}),(0,_.jsx)("hr",{className:"mt-2 mb-6 col-span-12"}),(0,_.jsx)(T.Z,{})]}),!(0,w.isEqual)(U,"dept")&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(A.Z,{type:"select",isLoading:te,classNames:"col-span-6",name:"level",label:(0,_.jsxs)("div",{className:"flex",children:[(0,_.jsx)("span",{children:M("\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433")}),(0,_.jsx)("img",{className:"ml-1",src:C.Z,alt:"org"})]}),params:{required:!0},options:(0,w.get)(ae,"data",[])}),(0,_.jsx)(A.Z,{params:{required:!0},type:"select",isLoading:le,classNames:"col-span-6",name:"service_types",isMulti:!0,label:(0,_.jsxs)("div",{className:"flex",children:[(0,_.jsx)("span",{children:M("\u0412\u0438\u0434\u044b \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433")}),(0,_.jsx)("img",{className:"ml-1",src:C.Z,alt:"org"})]}),options:(0,w.get)(re,"data",[])}),(0,_.jsx)("hr",{className:"mb-3 w-full block col-span-12"}),(0,_.jsx)(D.Z,{}),(0,_.jsx)("hr",{className:"mb-3 w-full block col-span-12"}),(0,_.jsx)(E.Z,{}),(0,_.jsx)(T.Z,{})]})]})]}),(0,_.jsxs)(q.Z,{open:P,onClose:function(){return R(!1)},classNames:"!w-[552px]",title:M("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),children:[pe&&(0,_.jsx)(v.p,{}),(0,_.jsxs)(S.Z,{classNames:"grid grid-cols-12 gap-x-6",formRequest:function(e){return function(e){var s=e.data,t=s.rate,n=(0,l.Z)(s,I);me({url:"".concat(f.n.organizations,"/").concat(a).concat(f.n.organizationPositions),attributes:(0,r.Z)((0,r.Z)({},n),{},{rate:parseFloat(t),display:(0,w.get)(n,"[0].value")})},{onSuccess:function(){R(!1)}})}(e)},footer:(0,_.jsx)("div",{className:"col-span-12 ",children:(0,_.jsxs)("div",{className:"flex justify-end",children:[(0,_.jsx)("button",{onClick:function(){return R(!1)},type:"button",className:"text-[#7A7A7A] border-2 border-[#7A7A7A] py-3 px-6 rounded-lg mr-4 inline-block   font-bold text-center  mt-6",children:M("\u041e\u0442\u043c\u0435\u043d\u0430")}),(0,_.jsx)("button",{type:"submit",className:" py-3 px-6 rounded-lg bg-primary inline-block  text-white font-bold text-center  mt-6",children:M("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")})]})}),children:[(0,_.jsx)(A.Z,{type:"async-select",isDisabledSearch:!0,url:"".concat(f.n.organizations,"/").concat(a).concat(f.n.organizationDepartments),keyId:N.t.organizationsListForSelect,classNames:"col-span-12",name:"parent",label:M("\u041e\u0442\u0434\u0435\u043b\u0435\u043d\u0438\u0435")}),(0,_.jsx)(A.Z,{type:"async-select",url:f.n.practitionerRole,keyId:N.t.practitionerRole,classNames:"col-span-12",name:"role",label:(0,_.jsxs)("div",{className:"flex",children:[(0,_.jsx)("span",{children:M("\u041f\u043e \u043a\u043b\u0430\u0441\u0441\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0443")}),(0,_.jsx)("img",{className:"ml-1",src:C.Z,alt:"org"})]}),params:{required:!0}}),(0,_.jsx)("hr",{className:"mt-2 mb-6 col-span-12"}),(0,_.jsx)(T.Z,{fullWidth:!0,hideValueShort:!0}),(0,_.jsx)("hr",{className:"mt-2 mb-6 col-span-12"}),(0,_.jsx)(A.Z,{type:"input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",classNames:"col-span-12",name:"rate",label:(0,_.jsxs)("div",{className:"flex",children:[(0,_.jsx)("span",{children:M("\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430")}),(0,_.jsx)("img",{className:"ml-1",src:C.Z,alt:"org"})]}),params:{required:!0,valueAsNumber:!0}})]})]})]})},R=function(){var e=(0,n.UO)().id;return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(P,{id:e})})}}}]);
//# sourceMappingURL=648.71a4596c.chunk.js.map